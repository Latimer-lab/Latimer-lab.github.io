/* ===== RESPONSIVE RULES ===== */

/* Mobile/tablet: up to 1000px */
@media (max-width: 1000px) {
  /* Show burger, hide left navbar cluster */
  .burger-toggle { 
    display: inline-flex; 
    align-items: center; 
    cursor: pointer;
  }
  .navbar-left { display: none; }

  /* Stack layout vertically */
  .layout { display: flex; flex-direction: column; }

  /* Panels become single full-width content sections */
  .panel { 
    order: 1; 
    flex-direction: column; 
    border-right: none; 
    border-bottom: 1px solid var(--color-border); 
    overflow: visible; 
  }

  /* Hide vertical tabs entirely on mobile */
  .panel-tab {
    display: none !important;
    pointer-events: none;
    width: 0; flex: 0 0 0; position: absolute; left: -9999px;
  }

  /* Only show the expanded panel */
  .panel:not(.expanded) {
    display: none !important;
    pointer-events: none;
  }

  .panel.expanded {
    display: flex !important;
    flex-direction: column;
    width: 100%;
  }

  .panel-content {
    overflow: visible;
    height: auto;
    width: 100%;
    max-width: 100vw;
  }
  /* Reasonable editor height on mobile */
  .evaluator-editor { height: 50vh; }

  /* Sidebar becomes a footer-like block showing only bottom section */
  .sidebar {
    order: 2;
    width: 100%;
    position: static;
    height: auto;
    border-right: none;
    border-top: 1px solid var(--color-border);
    background: var(--color-bg-secondary, var(--color-bg));
    flex-direction: column-reverse;
    min-width: 100%; /* Ensure full width */
    max-width: 100%; /* Ensure full width */
  }
  .sidebar-top { 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    background: #C9E600; 
    padding: var(--space-lg);
    width: 100%; /* Ensure full width */
  }
  .sidebar-bottom { 
    padding: var(--space-lg);
    padding-top: 0;
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    flex: 1;
    max-height: 60vh; /* Set maximum height for mobile */
    overflow-y: auto; /* Enable vertical scrolling on mobile */
    overflow-x: hidden; /* Prevent horizontal scrolling */
  }
  
  /* Hide chevron button on mobile */
  .sidebar-toggle {
    display: none !important;
  }
  
  /* Hide gradient on mobile since sidebar-bottom is always expanded */
  .sidebar-bottom::after {
    display: none;
  }

  /* Mobile menu page indication - use opacity instead of colors */
  .mobile-menu .menu-item[data-action="panel"] {
    opacity: 1;
    transition: all var(--transition-fast);
    font-weight: var(--font-weight-bold);
  }

  .mobile-menu .menu-item[data-action="panel"]:hover {
    background: var(--color-bg-secondary);
    transform: translateX(4px);
  }

  .mobile-menu .menu-item[data-action="panel"].active {
    opacity: 0.65;
  }

  /* Remove special styling from login button in mobile menu */
  .mobile-menu .login-btn {
    background: none;
    border: none;
    box-shadow: none;
    transform: none;
    padding: var(--space-md) var(--space-lg);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    text-align: left;
    width: 100%;
    cursor: pointer;
    transition: background-color var(--transition-fast);
  }

  .mobile-menu .login-btn:hover {
    background-color: var(--color-bg-secondary, var(--color-bg));
  }

  /* Active panel content indication */
  .panel.expanded .panel-content {
    opacity: 0.9;
    transition: opacity var(--transition-fast);
  }
}

/* Desktop: from 1001px */
@media (min-width: 1001px) {
  .burger-toggle { display: none; }
  .mobile-menu { display: none !important; }
  
  /* Prevent layout scrolling beyond viewport on desktop only */
  .layout {
    overflow: hidden;
  }
  
  /* Prevent body scrolling beyond viewport on desktop only */
  html, body {
    overflow: hidden;
  }
}


